## 1 - 初识C语言

---

### 1. C语言起源

贝尔实验室的丹尼斯 • 里奇 ( Dermis Ritch ) 和肯 • 汤普逊 ( Ken Thompson ) 在开发 UNIX 操作系统时设计了C语言


### 2. 选择 C 语言的理由

- **设计特性**：用户能轻松地完成自顶向下的规划、结构化编程和模块化设计
- **高效性**：相对更紧凑，运行速度很快，接近硬件底层
- **可移植性**：只需简单更改主程序头文件中的少许项就能在其他系统运行

![](/images/C%20Primer%20Plus/Pasted%20image%2020250109121729.png)

### 3. C 语言的应用范围

从个人主机电脑到大型服务器，C语言都有其身影。因为C语言编写的程序紧凑高效、方便修改、容易移植，许多软件公司都用C语言来开发文字处理程序、电子表格、编译器和其他产品。C++在 C 语言的基础上嫁接了面 向对象编程工具，即C++几乎是 C 的超集，学习 C 语言**也相当于学习了 许多 C++的知识**。C 语言也与嵌入式高度相关，在嵌入式在 Linux 幵发中扮演着极其重要的角色。所以打好C的基础十分重要。

![](/images/C%20Primer%20Plus/Pasted%20image%2020250109122239.png)

### 4. 语言标准

C 语言发展之初，并没有所谓的 C 标准。1987 年，布莱恩 •柯林汉 ( Brian Kernighart ) 和丹尼斯 •里奇 (Dennis Ritchie) 合著的 *The C Programming Language* (《C 语言程序设计》）第 1 版是公认的 C 标准，通常称之为 *K&R C* 或 *经典 C*。虽然这本书中的附录定义了 C 语言，但却没有定义 C 库。

#### 4.1. 第1 个 ANSI/ISO C 标准

随着 c 的不断发展，越来越广泛地应用于更多系统中，c 社区意识到需要个更全面、更新颖、更严格的标准。鉴于此，美国国家标准协会（ANSI) 于 1983 年组建了一个委员会（X3J11 ), 开发了一套新标准，并于 1989 年正式公布。该标准（ANSI C) 定义了 C 语言和 C 标准库。国际标准化组织于 1990 年采用了这套 C 标准（ISO C) 。ISO C 和 ANSI C 是完全相同的标准。ANSI/ISO 标准的最终版本通常叫作**C89**（因为 ANSI 于 1989 年批准该标准）或 **C90** (因为 ISO 于 1990 年批准该标准）。另外，由于 ANSI 先公布 **C89** 标准，因此业界人士通常使用 ANSI C。

**C89/C90 标准原则**：

- 信任程序员； 
- 不要妨碍程序员做需要做的事； 
- 保持语言精练简单： 
- 只提供一种方法执行一项操作； 
- 让程序运行更快，即使不能保证其可移植性

#### 4.2. C99 标准

1994 年，ANSI/ISO 联合委员会（C9X 委员会）开始修订 C 标准，最终发布了 C99 标准。该委员会遵循了最初 C90 标准的原则，包括保持语言的精练简单。委员会的用意不是在 C 语言中添加新特性，而是为了达到新的目标。

- **支持国际化编程**。例如，提供多种方法处理国际字符集。
- **解决目前实现方法缺陷**。在遇到需要将 C 移至 64 位处理器时，可以根据实际中处理问题的经验来添加标准。
- **数值计算**。提高 C 的适应性和可移植性

#### 4.3. C11 标准

出于对当前编程安全的担忧，不那么强调“信任程序员”。而且，供应商并未像对 C90 那样很好地接受和支持 C99。这使得 C99 的一些特性成为 C11 的可选项。因为委员会认为，不应要求服务小型机市场的供应商支持其目标环境中用不到的特性。故大部分C标准是 **C89/C90/C99**。

### 5. C 语言 7 步骤

![](/images/C%20Primer%20Plus/Pasted%20image%2020250109153541.png)

- **定义程序的目标**：清晰思路，想要程序去做什么，程序需要什么信息，要进行哪些计算和控制，以及程序应该要报告什么信息
- **设计程序**：用户界面应该是怎样的？如何组织程序？目标用户是谁？如何表示数据，以及用什么方法处理数据？
- **编写代码**：应该给自己编写的程序添加文字注释
- **编译**：把源代码转换成可执行代码，不同平台有不同的编译方式，生成可执行文件
- **运行程序**：在常见环境（Windows/Linux）中运行程序要输入可执行文件的文件名
- **测试和调试程序**：检查程序是否按照你所设计的思路运行。査找并修复程序错误的过程叫**调试（debug）**
- **维护和修改代码**：更改程序中的错误或者扩展程序用途

许多初学者经常忽略第 1 步和第 2 步（定义程序目标和设计程序)，直接跳到第 3 步（编写代码)，这是一个不好的习惯。开始学习时，编写的程序非常简单，完全可以在脑中构思好整个过程。即使写错了，也很容易发现。但是，随着编写的程序越来越庞大、越来越复杂，动脑不动手可不行，而且程序中隐藏的错误也越来越难找。最终，**那些跳过前两个步骤的人往往浪费了更多的时间**，因为他们写出的程序难看、缺乏条理、让人难以理解。要编写的程序越大越复杂，**事先定义和设计程序环节的工作量就越大**。

### 6. 编程机制

- **源代码文件**：编写的内容被储存在文本文件中
- **命名**：大部分 C 系统都要求文件名以 .c 结尾，在文件名中，点号（.）前面的部分称为*基本名 (basename）*，点号后面的部分称为*扩展名 (extension）*。

#### 6.1. 目标代码文件、可执行文件和库

c 编程的基本策略是，用程序**把源代码文件转换为可执行文件**。 典型的 C 实现通过**编译**和**链接**两个步骤来完成这一过程。编译器把**源代码**转换成**中间代码**，链接器把**中间代码**和**其他代码合并**，生成可执行文件。这种分而治之的方法方便对程序进行模块化，可以独立编译单独的模块，稍后再用链接器合并已编译的模块。通过这种方式，如果只更改某个模块，不必因此重新编译其他模块。另外，链接器还可以将你编写的程序和预编译的库代码合并。

![](/images/C%20Primer%20Plus/Pasted%20image%2020250109155637.png)

- **中间文件**：把源代码转换为机器语言代码，并把结果放在目标代码文件。虽然目标文件中包含机器语言代码，但是并不能直接运行该文件。因为目标文件中储存的是编译器翻译的源代码，这**还不是一个完整的程序**。
- **启动代码**：充当着程序和操作系统之间的接口
- **库函数**：目标代码文件并不包含该函数的代码（如 printf 函数）。库文件中有许多函数的目标代码

链接器的作用是，把你编写的目标代码、系统的标准启动代码和库代码这 3 部分合并成一个文件，即可执行文件。对于库代码. 链接器只会把程序中要用到的库函数代码提取出来

#### 6.2. 集成开发环境（Windows）

许多供应商都提供 Windows F的集成开发环境，或称为 IDE (目前，大多数 IDE 都是 C 和C++结合的编译器)。这类集成开发环境都提供了各种菜单（如命名、保存源代码文件、编译程序、运行程序等)，用户不用离开 IDE 就能顺利编写、编译和运行程序。如果编译器发现错误，会返回编辑器中，标出有错误的行号，并简单描述情况。

通常，Windows IDE 既可处理 C 也可处理 C++, 因此要指定待处理的程序是 C 还是 C++。有些产品用项目类型来区分两者，有些产品（如，Microsoft Visual C++) 用 .c 文件扩展名来指明使用 C 而不是 C++。

---

## 参考引用

### 书籍出处

- [C Primer Plus(第6版)中文版](asset/c/C%20Primer%20Plus(第6版)中文版.pdf)
- [C Primer Plus, Sixth Edition (Stephen Prata)](asset/c/C%20Primer%20Plus,%20Sixth%20Edition%20(Stephen%20Prata).pdf)